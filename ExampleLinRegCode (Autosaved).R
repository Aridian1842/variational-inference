rm(list=ls())
x <- c(67.54, 24.11, 35.00, 80.42, 15.06, 4.58, 42.20, 45.25, 71.39,
   53.64, 86.96, 46.04, 55.69, 57.93, 20.98, 48.39, 60.08, 34.78, 30.83,
   -21.49, 67.00, 32.32, 84.20, 62.05, 51.85, 54.28, 83.67, 77.09, 42.70,
   71.72, 20.95, 37.67, 57.53, 95.51, 62.77, 61.94, 49.79, 34.58, 64.57,
   6.05, 106.56, 68.40, 32.25, 86.36, 47.75, 56.92, 21.55, 38.50, 79.57,
   47.59, 60.10, 37.71, 66.12, 21.78, 2.82, 3.62, 87.56, 54.23, 44.64,
   25.05, 24.06, 31.11, 46.50, 62.34, 26.12, 49.57, 31.49, 20.61, 27.93,
   -6.62, 42.32, 107.96, 17.85, 67.81, 50.51, 49.06, 28.28, 54.23, 65.17,
   83.77, 60.56, 21.80, 70.17, 22.44, 53.13, 34.06, 10.04, 61.44, 41.05,
   42.75, 87.21, 52.60, 86.87, 65.46, 69.51, 71.78, 26.56, 15.68, 70.33, 71.73)
 y <- c(19.96, 7.73, 15.12, 17.64, 8.48, 5.53, 14.76, 15.84, 17.85,
   16.88, 23.99, 14.85, 17.09, 19.03, 9.00, 14.58, 17.15, 10.91, 12.02,
   2.31, 18.53, 9.30, 24.72, 17.30, 15.91, 13.99, 21.63, 20.89, 15.20,
   19.81, 11.23, 13.98, 19.07, 24.01, 15.35, 13.83, 19.76, 11.53,
   17.50, 8.58, 28.89, 19.25, 8.34, 21.50, 16.03, 19.89, 9.71, 15.61,
   27.03, 11.88, 20.57, 15.09, 16.63, 10.15, 4.83, 9.03, 23.95, 12.94,
   13.20, 10.96, 9.42, 11.91, 15.21, 20.25, 11.04, 14.27, 10.44, 10.51,
   13.94, 3.28, 16.19, 25.66, 7.12, 16.95, 15.29, 16.06, 9.09, 17.84,
   18.73, 22.23, 16.54, 7.75, 21.09, 6.22, 15.67, 12.84, 7.87, 19.56, 12.96,
   16.97, 19.90, 18.94, 21.35, 20.04, 19.76, 20.12, 10.84, 7.99, 22.08, 20.76)
   
   dataset <- data.frame(x = x, y = y)  # creates a data frame named "dataset"
 rm (x)
 rm (y)                       # removes x and y outside "dataset"
 attach(dataset)              # make "dataset" the default data frame
 
  plot(x,y, pch=16,
   xlab="x",
   ylab="y",
   main="Example Linear Regression Plot",
   #sub="Plot of linear regression using hypothetical data",
   ylim=c(0,max(y))
   )    
   
    fm1 <- lm(y ~ x)             # "fm1" is just a name given to the object that
                              #   holds information from the linear fit
 summary(fm1)                 # print coefficients, p-value, and r2 of model fit
 abline (fm1, col="blue",
         lwd=2)               # add line to plot
   
   #http://www.joe.org/joe/2013june/tt3.php